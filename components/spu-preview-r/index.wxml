<!--components/spu-preview/index.wxml-->
<wxs src="../../wxs/price.wxs" module="p"></wxs>
<view class="container" bind:tap="onItemTap" data-pid="{{data.id}}" hover-class="rect-hover" hover-stay-time="200" >
    <image class="img" mode="widthFix" bind:load="onImageLoad" src="{{data.img}}"></image>
    <view class="content-container">
        <text class="title">{{data.title}}</text>
        <view class="tags">
            <block wx:for="{{tags}}" wx:key="{{index}}">
                <l-tag type="reading" l-class="l-tag" size="super-mini">{{item}}</l-tag>
            </block>
        </view>
        <view class="price-container">
            <l-price color="#157658"
                     value-size="28"
                     unit-size="20"
                     autofix
                     value="{{p.mainPrice(data.price, data.discount_price)}}">
            </l-price>
            <block wx:if="{{!data.discount_price? false: true}}">
                <l-price color="#999999"
                         size="26"
                         deleted
                         l-class="discount-price"
                         value="{{p.slashedPrice(data.price, data.discount_price)}}">
                </l-price>
            </block>
        </view>
        <text class="subtitle">{{data.subtitle}}</text>
    </view>
</view>
